# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "lightgreen") +
annotate(geom = "text", x = 162.5, y = 170, label = "Perpetually High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da"))
ggplot(data = co2_rankings, aes(x = rank_1995, y = rank_2014)) +
# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "lightgreen") +
annotate(geom = "text", x = 150.5, y = 100, label = "Perpetually High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da")) +
# Add labels for x-axis, y-axis, plot title, subtitle, and caption
scale_x_continuous(expand = (0,0), breaks = seq(0, 175, 25)) +
ggplot(data = co2_rankings, aes(x = rank_1995, y = rank_2014)) +
# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "lightgreen") +
annotate(geom = "text", x = 150.5, y = 100, label = "Perpetually High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da")) +
# Add labels for x-axis, y-axis, plot title, subtitle, and caption
scale_x_continuous(expand = c(0,0), breaks = seq(0, 175, 25)) +
scale_y_continuous(expand = c(0,0), breaks = seq(0, 175, 25))
ggplot(data = co2_rankings, aes(x = rank_1995, y = rank_2014)) +
# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "lightgreen") +
annotate(geom = "text", x = 160, y = 120, label = "Perpetually \n High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da")) +
# Add labels for x-axis, y-axis, plot title, subtitle, and caption
scale_x_continuous(expand = c(0,0), breaks = seq(0, 175, 25)) +
scale_y_continuous(expand = c(0,0), breaks = seq(0, 175, 25))
ggplot(data = co2_rankings, aes(x = rank_1995, y = rank_2014)) +
# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "lightgreen") +
annotate(geom = "text", x = 165, y = 130, label = "Perpetually \n High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da")) +
# Add labels for x-axis, y-axis, plot title, subtitle, and caption
scale_x_continuous(expand = c(0,0), breaks = seq(0, 175, 25)) +
scale_y_continuous(expand = c(0,0), breaks = seq(0, 175, 25))
ggplot(data = co2_rankings, aes(x = rank_1995, y = rank_2014)) +
# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "lightgreen") +
annotate(geom = "text", x = 170, y = 130, label = "Perpetually \n High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da")) +
# Add labels for x-axis, y-axis, plot title, subtitle, and caption
scale_x_continuous(expand = c(0,0), breaks = seq(0, 175, 25)) +
scale_y_continuous(expand = c(0,0), breaks = seq(0, 175, 25))
# Plot the CO2 rankings with rank_1995 along the x-axis, and rank_2014 along the y-axis
CO2_rank <- ggplot(data = co2_rankings, aes(x = rank_1995, y = rank_2014)) +
# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "lightgreen") +
annotate(geom = "text", x = 170, y = 130, label = "Perpetually \n High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da")) +
# Add labels for x-axis, y-axis, plot title, subtitle, and caption
scale_x_continuous(expand = c(0,0), breaks = seq(0, 175, 25)) +
scale_y_continuous(expand = c(0,0), breaks = seq(0, 175, 25))+
# Turn off the legends for color and fill, since the subtitle includes that
labs(x = "Rank in 1995", y = "Rank in 2014",
title = "Changes in CO<sub>2<sub>",
subtitle = "Countries that improved")
CO2_rank
# Plot the CO2 rankings with rank_1995 along the x-axis, and rank_2014 along the y-axis
CO2_rank <- ggplot(data = co2_rankings, aes(x = rank_1995, y = rank_2014)) +
# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "lightgreen") +
annotate(geom = "text", x = 170, y = 130, label = "Perpetually \n High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da")) +
# Add labels for x-axis, y-axis, plot title, subtitle, and caption
scale_x_continuous(expand = c(0,0), breaks = seq(0, 175, 25)) +
scale_y_continuous(expand = c(0,0), breaks = seq(0, 175, 25))+
# Turn off the legends for color and fill, since the subtitle includes that
labs(x = "Rank in 1995", y = "Rank in 2014",
title = "Changes in CO2",
subtitle = "Countries that improved",
caption = "Made by Ellen <3") +
guides(colour = "none", fill = "none") +
# Use theme_bw() with IBM Plex Sans
theme_bw(base_family = "IBM Plex Sans")
CO2_rank
# Plot the CO2 rankings with rank_1995 along the x-axis, and rank_2014 along the y-axis
CO2_rank <- ggplot(data = co2_rankings, aes(x = rank_1995, y = rank_2014)) +
# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "green") +
annotate(geom = "text", x = 170, y = 130, label = "Perpetually \n High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da")) +
# Add labels for x-axis, y-axis, plot title, subtitle, and caption
scale_x_continuous(expand = c(0,0), breaks = seq(0, 175, 25)) +
scale_y_continuous(expand = c(0,0), breaks = seq(0, 175, 25))+
# Turn off the legends for color and fill, since the subtitle includes that
labs(x = "Rank in 1995", y = "Rank in 2014",
title = "Changes in CO2",
subtitle = "Countries that improved",
caption = "Made by Ellen <3") +
guides(colour = "none", fill = "none") +
# Use theme_bw() with IBM Plex Sans
theme_bw(base_family = "IBM Plex Sans") +
theme(plot.tile = element_markdown(face = "bold", size = rel(1.6)),
plot.subtitle = element_markdown(size = rel(1.3)),
plot.margin = unit(c(0.5, 1, .5, .5), unit = "lines"))
CO2_rank
# Plot the CO2 rankings with rank_1995 along the x-axis, and rank_2014 along the y-axis
CO2_rank <- ggplot(data = co2_rankings, aes(x = rank_1995, y = rank_2014)) +
# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "green") +
annotate(geom = "text", x = 170, y = 130, label = "Perpetually \n High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da")) +
# Add labels for x-axis, y-axis, plot title, subtitle, and caption
scale_x_continuous(expand = c(0,0), breaks = seq(0, 175, 25)) +
scale_y_continuous(expand = c(0,0), breaks = seq(0, 175, 25))+
# Turn off the legends for color and fill, since the subtitle includes that
labs(x = "Rank in 1995", y = "Rank in 2014",
title = "Changes in CO2",
subtitle = "Countries that improved",
caption = "Made by Ellen (and Caroline) <3") +
guides(colour = "none", fill = "none") +
# Use theme_bw() with IBM Plex Sans
theme_bw(base_family = "IBM Plex Sans") +
theme(plot.tile = element_markdown(face = "bold", size = rel(1.6)),
plot.subtitle = element_markdown(size = rel(1.3)),
plot.margin = unit(c(0.5, 1, .5, .5), unit = "lines"))
CO2_rank
# Plot the CO2 rankings with rank_1995 along the x-axis, and rank_2014 along the y-axis
CO2_rank <- ggplot(data = co2_rankings, aes(x = rank_1995, y = rank_2014)) +
# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "green") +
annotate(geom = "text", x = 170, y = 130, label = "Perpetually \n High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da")) +
# Add labels for x-axis, y-axis, plot title, subtitle, and caption
scale_x_continuous(expand = c(0,0), breaks = seq(0, 175, 25)) +
scale_y_continuous(expand = c(0,0), breaks = seq(0, 175, 25))+
# Turn off the legends for color and fill, since the subtitle includes that
labs(x = "Rank in 1995", y = "Rank in 2014",
title = "Changes in CO<sub>2</sub>",
subtitle = "Countries that improved",
caption = "Made by Ellen (and Caroline) <3") +
guides(colour = "none", fill = "none") +
# Use theme_bw() with IBM Plex Sans
theme_bw(base_family = "IBM Plex Sans") +
theme(plot.tile = element_markdown(face = "bold", size = rel(1.6)),
plot.subtitle = element_markdown(size = rel(1.3)),
plot.margin = unit(c(0.5, 1, .5, .5), unit = "lines"))
CO2_rank
CO2_rank
CO2_rank
# Plot the CO2 rankings with rank_1995 along the x-axis, and rank_2014 along the y-axis
CO2_rank <- ggplot(data = co2_rankings, aes(x = rank_1995, y = rank_2014)) +
# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "green") +
annotate(geom = "text", x = 170, y = 130, label = "Perpetually \n High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da")) +
# Add labels for x-axis, y-axis, plot title, subtitle, and caption
scale_x_continuous(expand = c(0,0), breaks = seq(0, 175, 25)) +
scale_y_continuous(expand = c(0,0), breaks = seq(0, 175, 25))+
# Turn off the legends for color and fill, since the subtitle includes that
labs(x = "Rank in 1995", y = "Rank in 2014",
title = "Changes in CO2",
subtitle = "Countries that improved",
caption = "Made by Ellen (and Caroline) <3") +
guides(colour = "none", fill = "none") +
# Use theme_bw() with IBM Plex Sans
theme_bw(base_family = "IBM Plex Sans") +
theme(plot.tile = element_markdown(face = "bold", size = rel(1.6)),
plot.subtitle = element_markdown(size = rel(1.3)),
plot.margin = unit(c(0.5, 1, .5, .5), unit = "lines"))
CO2_rank
ggsave("CO2_rank.pdf", co2_plot, device = cairo_pdf)
ggsave("CO2_rank.pdf", CO2_rank, device = cairo_pdf)
plot.margin = unit(c(0.5, 1, .5, .5), unit = "lines"))
# Plot the CO2 rankings with rank_1995 along the x-axis, and rank_2014 along the y-axis
CO2_rank <- ggplot(data = co2_rankings, aes(x = rank_1995, y = rank_2014)) +
# Add a reference line that goes from the bottom corner to the top corner
annotate(geom = "segment", x = 0, xend = 175, y = 0, yend = 175) +
# Add points and color them by the type of change in rankings
geom_point(aes(colour = better_big_change)) +
# Use three different colors for the points (for "Rank changed a little", "Rank worsened", "Rank improved")
# Add repelled labels. Only use data where big_change is TRUE. Fill them by the type of change (so they match the color in geom_point() above) and use white text
geom_label_repel(data = filter(co2_rankings, big_change == TRUE),
aes(label = country, fill = better_big_change),
colour = "white") +
# Use two different colors for the filled labels, with no labels for the "Rank changed a little"
# Add notes about what the outliers mean in the bottom left and top right corners
annotate(geom = "text", x = 170, y = 6, label = "Outliers improving", fontface = "italic", hjust = 1, colour = "grey50") +
annotate(geom = "text", x = 2, y = 170, label = "Outliers worsening", fontface = "italic", hjust = 0, colour = "grey50") +
# Make these are italicized and light grey. The text in the bottom corner is justified to the right with hjust = 1, and the text in the top corner is justified to the left with hjust = 0
# Add mostly transparent rectangles in the bottom right and top left corners
annotate(geom = "rect", xmin = 0, xmax = 25, ymin = 0, ymax = 25, fill = "#2ECC40", alpha = .25) +
annotate(geom = "rect", xmin = 150, xmax = 175, ymin = 150, ymax = 175, fill = "#FF851B", alpha = .25) +
# And, add text to define what the rectangles above actually mean
annotate(geom = "text", x = 40, y = 6, label = "Perpetually Low", hjust = 0, colour = "green") +
annotate(geom = "text", x = 170, y = 130, label = "Perpetually \n High", hjust = 1, colour = "orange") +
# Add arrows between the text and the rectangles
annotate(geom = "segment", x = 38, xend = 20, y = 6, yend = 6, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
annotate(geom = "segment", x = 162.5 , xend = 162.5, y = 140, yend = 155, colour = "black",
arrow = arrow(angle = 15, length = unit(0.5, "lines"))) +
# These should use the segment geom, and the arrows should be added with the arrow() function
scale_colour_manual(values = c("#7792ff","#ed90af", "#b960da")) +
# Make the x and y axes expand all the way to the edges of the plot area and add breaks every 25 units from 0 to 175
scale_fill_manual(values = c("#ed90af", "#b960da")) +
# Add labels for x-axis, y-axis, plot title, subtitle, and caption
scale_x_continuous(expand = c(0,0), breaks = seq(0, 175, 25)) +
scale_y_continuous(expand = c(0,0), breaks = seq(0, 175, 25))+
# Turn off the legends for color and fill, since the subtitle includes that
labs(x = "Rank in 1995", y = "Rank in 2014",
title = "Changes in CO2",
subtitle = "Countries that improved",
caption = "Made by Ellen (and Caroline) <3") +
guides(colour = "none", fill = "none") +
# Use theme_bw() with IBM Plex Sans
theme_bw(base_family = "IBM Plex Sans") +
theme(plot.tile = element_markdown(face = "bold", size = rel(1.6)),
plot.subtitle = element_markdown(size = rel(1)),
plot.margin = unit(c(0.5, 1, .5, .5), unit = "lines"))
ggsave("CO2_rank.pdf", CO2_rank, device = cairo_pdf)
ggsave("CO2_rank.pdf", CO2_rank, device = cairo_pdf)
ggsave("CO2_rank2.pdf", CO2_rank, device = cairo_pdf)
