rm(list=ls())
# Detach all libraries
detachAllPackages <- function() {
basic.packages <- c("package:stats", "package:graphics", "package:grDevices", "package:utils", "package:datasets", "package:methods", "package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:", search()))==1, TRUE, FALSE)]
package.list <- setdiff(package.list, basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package,  character.only=TRUE)
}
detachAllPackages()
# Load libraries
pkgTest <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[,  "Package"])]
if (length(new.pkg))
install.packages(new.pkg,  dependencies = TRUE)
sapply(pkg,  require,  character.only = TRUE)
}
# Load any necessary packages
lapply(c("tidyverse", "ggplot2"),  pkgTest)
# Set working directory for current folder
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
getwd()
# load data
AB_ZIM <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/DataViz_2026/refs/heads/main/datasets/AB_ZIM.csv")
# Remove objects
rm(list=ls())
# Detach all libraries
detachAllPackages <- function() {
basic.packages <- c("package:stats", "package:graphics", "package:grDevices", "package:utils", "package:datasets", "package:methods", "package:base")
package.list <- search()[ifelse(unlist(gregexpr("package:", search()))==1, TRUE, FALSE)]
package.list <- setdiff(package.list, basic.packages)
if (length(package.list)>0)  for (package in package.list) detach(package,  character.only=TRUE)
}
detachAllPackages()
# Load libraries
pkgTest <- function(pkg){
new.pkg <- pkg[!(pkg %in% installed.packages()[,  "Package"])]
if (length(new.pkg))
install.packages(new.pkg,  dependencies = TRUE)
sapply(pkg,  require,  character.only = TRUE)
}
# Load any necessary packages
lapply(c("tidyverse", "ggplot2"),  pkgTest)
# Set working directory for current folder
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
getwd()
# load data
AB_ZIM <- read.csv("https://raw.githubusercontent.com/ASDS-TCD/DataViz_2026/refs/heads/main/datasets/AB_ZIM.csv")
# reduce data
AB_ZIM <- AB_ZIM |> select(Q1, Q101, Q102, Q94A, Q97, Q98)
# organize data
AB_ZIM <- AB_ZIM |>
# rename some columns
rename(age = `Q1`,
gender = `Q101`,
interview_lang = `Q102`,
employed = `Q94A`,
religion = `Q97`,
party_vote = `Q98`)
pdf("AB_ZIM_hist1.pdf")
ggplot(data = AB_ZIM, aes(x=age)) +
geom_histogram()
dev.off()
ggplot(data = AB_ZIM, aes(x=age)) +
geom_histogram()
ggplot(data = AB_ZIM, aes(x=age)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100))
ggplot(data = AB_ZIM, aes(x=age)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender))
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip()
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Gender")
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Gender") +
theme_bw()
# download data from AfroBarometer (Malawi R10): https://www.afrobarometer.org/survey-resource/malawi-round-10-data-2024/
# here is the codebook: https://www.afrobarometer.org/survey-resource/malawi-round-10-codebook-2024/
AB_MALAWI <- read.csv('https://www.afrobarometer.org/survey-resource/malawi-round-10-data-2024/')
View(df)
View(df)
View(AB_MALAWI)
###### Ellen's Theme <3 ####
theme_ellen <- function(base_size = 11,
base_family = "",
base_line_size = 11/2,
base_rect_size = base_size/22) {
theme_grey(
base_size = base_size,
base_family = base_family,
base_line_size = base_line_size,
base_rect_size = base_rect_size) +
theme(
panel.background = element_rect(fill = "white", colour = NA),
panel.border = element_rect(fill = NA, colour = "grey20"),
panel.grid = element_line(colour = "grey92"),
panel.grid.minor = element_line(size = rel(0.5)),
strip.background = element_rect(fill = "grey85", colour = "grey20"),
legend.key = element_rect(fill = "white", colour = NA), complete = TRUE)
}
# download data from AfroBarometer (Malawi R10): https://www.afrobarometer.org/survey-resource/malawi-round-10-data-2024/
# here is the codebook: https://www.afrobarometer.org/survey-resource/malawi-round-10-codebook-2024/
AB_MALAWI <- read.csv('MLW_R10.Data_01Oct24.wtd_.final_.release_updated.13Feb25.csv')
View(df)
head(AB_MALAWI)
# reduce your data to these variables:
AB_ZIM <- AB_ZIM |> select(URBRUR, Q1, Q101, Q102, Q94A, Q97, Q98, Q12B, Q12C)
# reduce your data to these variables:
AB_MALAWI <- AB_MALAWI|> select(URBRUR, Q1, Q101, Q102, Q94A, Q97, Q98, Q12B, Q12C)
AB_MALAWI <- AB_MALAWI |>
rename(urban_rural_respondent = `URBRUR`,
age = `Q1`,
gender = `Q101`,
interview_lang = `Q102`,
employed = `Q94A`,
religion = `Q97`,
party_vote = `Q98`
contacted_party_official = `Q12B`,
AB_MALAWI <- AB_MALAWI |>
rename(urban_rural_respondent = `URBRUR`,
age = `Q1`,
gender = `Q101`,
interview_lang = `Q102`,
employed = `Q94A`,
religion = `Q97`,
party_vote = `Q98`,
contacted_party_official = `Q12B`,
contacted_traditional_leader = `Q12C`)
# create a couple of visualizations that shed light on our RQ
ggplot(data = AB_MALAWI, aes(x=age)) +
geom_histogram()
View(AB_MALAWI)
summary(AB_MALAWI)
AB_MALAWI <- as.double(AB_MALAWI$age)
# create a couple of visualizations that shed light on our RQ
ggplot(data = AB_MALAWI, aes(x=age)) +
geom_histogram()
AB_MALAWI <- na.omit(as.double(AB_MALAWI$age))
# reduce your data to these variables:
AB_MALAWI <- AB_MALAWI|> select(URBRUR, Q1, Q101, Q102, Q94A, Q97, Q98, Q12B, Q12C)
# download data from AfroBarometer (Malawi R10): https://www.afrobarometer.org/survey-resource/malawi-round-10-data-2024/
# here is the codebook: https://www.afrobarometer.org/survey-resource/malawi-round-10-codebook-2024/
AB_MALAWI <- read.csv('MLW_R10.Data_01Oct24.wtd_.final_.release_updated.13Feb25.csv')
# reduce your data to these variables:
AB_MALAWI <- AB_MALAWI|> select(URBRUR, Q1, Q101, Q102, Q94A, Q97, Q98, Q12B, Q12C)
# rename your variables to informative/easy names
AB_MALAWI <- AB_MALAWI |>
rename(urban_rural_respondent = `URBRUR`,
age = `Q1`,
gender = `Q101`,
interview_lang = `Q102`,
employed = `Q94A`,
religion = `Q97`,
party_vote = `Q98`,
contacted_party_official = `Q12B`,
contacted_traditional_leader = `Q12C`)
AB_MALAWI <- as.double(AB_MALAWI$age)
AB_MALAWI <- as_double(AB_MALAWI$age)
AB_MALAWI <- read.csv('MLW_R10.Data_01Oct24.wtd_.final_.release_updated.13Feb25.csv')
head(AB_MALAWI)
# reduce your data to these variables:
AB_MALAWI <- AB_MALAWI|> select(URBRUR, Q1, Q101, Q102, Q94A, Q97, Q98, Q12B, Q12C)
# URBRUR - urban/rural respondent
# Q1 - age
# Q101 - gender
# Q102 - interview language
# Q94A - employed
# Q97 - religion
# Q98 - voted for party in last election
# Q12B - contacted party official
# Q12C - contacted traditional leader
# rename your variables to informative/easy names
AB_MALAWI <- AB_MALAWI |>
rename(urban_rural_respondent = `URBRUR`,
age = `Q1`,
gender = `Q101`,
interview_lang = `Q102`,
employed = `Q94A`,
religion = `Q97`,
party_vote = `Q98`,
contacted_party_official = `Q12B`,
contacted_traditional_leader = `Q12C`)
AB_MALAWI <- integer(AB_MALAWI$age)
AB_MALAWI$age <-as.numeric(AB_MALAWI$age)
AB_MALAWI$age <-as.integer(AB_MALAWI$age)
# create a couple of visualizations that shed light on our RQ
ggplot(data = AB_MALAWI, aes(x=age)) +
geom_histogram()
# create a couple of visualizations that shed light on our RQ
ggplot(data = AB_MALAWI, aes(x=age)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100))
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)
ggplot(data = AB_MALAWI, aes(x=age)) +
# create a couple of visualizations that shed light on our RQ
ggplot(data = AB_MALAWI, aes(x=age)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100))
ggplot(data = AB_MALAWI, aes(x=age)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100))
# create a couple of visualizations that shed light on our RQ
ggplot(data = AB_MALAWI, aes(x=age, fill = gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100))
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip()
ggplot(data = AB_ZIM, aes(x=age, fill=gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100)) +
facet_wrap(vars(gender)) +
coord_flip() +
labs(x="\nAge", y="\nCount", fill="Gender") +
theme_bw()
ggplot(data = AB_MALAWI, aes(x=age, fill = gender)) +
geom_histogram() +
scale_y_continuous(breaks = c(20, 40, 60, 80, 100))
ggplot(data = AB_MALAWI, aes(x=contacted_party_official, fill = gender)) +
geom_bar()
ggplot(data = AB_MALAWI, aes(x=contacted_traditional_leader, fill = gender)) +
geom_bar()
View(AB_MALAWI)
#Example
ggplot(AB_MALAWI, aes(x= age, fill = trad_off)) +
facet_wrap(vars(gender))
#Example
ggplot(AB_MALAWI, aes(x= employment, y =contacted_traditional_leader fill = trad_off)) +
geom_bar()
#Example
ggplot(AB_MALAWI, aes(x= age, y = contacted_traditional_leader) +
geom_bar()
ggplot(data = AB_MALAWI, aes(x=contacted_party_official, fill = gender)) +
#Example
ggplot(AB_MALAWI, aes(x= age, y = contacted_traditional_leader) +
geom_bar()
geom_histogram()
#Example
ggplot(data = AB_MALAWI, aes(x= age, y = contacted_traditional_leader) +
geom_histogram()
ggplot(AB_MALAWI, aes(x = religion, fill = trad_off)) +
ggplot(AB_MALAWI, aes(x = religion, fill = trad_off)) +
geom_bar(position = "fill") +
theme_minimal()
# Ex 5
ggplot(AB_MALAWI, aes(x = religion, fill = contacted_party_official)) +
geom_bar(position = "fill") +
theme_minimal()
ggplot(AB_MALAWI, aes(fill = religion, x = contacted_party_official)) +
geom_bar(position = "fill") +
theme_minimal()
# Ex 5
ggplot(AB_MALAWI, aes(x = religion, fill = contacted_party_official)) +
geom_bar(position = "fill") +
theme_minimal()
# Ex 5
ggplot(AB_MALAWI, aes(x = interview_lang, fill = contacted_party_official)) +
geom_bar(position = "fill") +
theme_minimal()
ggplot(AB_MALAWI, aes(x = interview_lang, fill = contacted_traditional_leader)) +
geom_bar(position = "fill") +
theme_minimal()
ggplot(AB_MALAWI, aes(x = interview_lang, fill = contacted_traditional_leader)) +
geom_bar(position = "fill") +
labs(
title = "Contact with Party Officials by Interview Language"
)
ggplot(AB_MALAWI, aes(x = interview_lang, fill = contacted_traditional_leader)) +
geom_bar(position = "fill") +
labs(
title = "Contact with Traditional Leaders by Interview Language"
)
ggplot(AB_MALAWI, aes(x = interview_lang, fill = contacted_traditional_leader)) +
geom_bar(position = "fill") +
labs(
title = "Contact with Traditional Leaders by Interview Language"
xlab = "Interview Language"
ggplot(AB_MALAWI, aes(x = interview_lang, fill = contacted_traditional_leader)) +
geom_bar(position = "fill") +
labs(
title = "Contact with Traditional Leaders by Interview Language"
xlab = "Interview Language"
ggplot(AB_MALAWI, aes(x = interview_lang, fill = contacted_traditional_leader)) +
geom_bar(position = "fill") +
labs(
title = "Contact with Traditional Leaders by Interview Language"
xlab = "Interview Language"
ggplot(AB_MALAWI, aes(x = interview_lang, fill = contacted_traditional_leader)) +
geom_bar(position = "fill") +
labs(
title = "Contact with Traditional Leaders by Interview Language"
xlab = "Interview Language"
ggplot(AB_MALAWI, aes(x = interview_lang, fill = contacted_traditional_leader)) +
geom_bar(position = "fill") +
labs(
title = "Contact with Traditional Leaders by Interview Language"
xlabs = "Interview Language"
ggplot(AB_MALAWI, aes(x = interview_lang, fill = contacted_traditional_leader)) +
geom_bar(position = "fill") +
labs(
title = "Contact with Traditional Leaders by Interview Language"
) +
theme_minimal()
theme_test <- function(base_size = 12,
dark_text = "#1A242F") {
mid_text <-  monochromeR::generate_palette(dark_text, "go_lighter", n_colours = 5)[2]
light_text <-  monochromeR::generate_palette(dark_text, "go_lighter", n_colours = 5)[3]
theme_minimal(base_size = base_size) +
theme(text = element_text(colour = mid_text, family = "BrandonText", lineheight = 1.1),
plot.title = element_text(colour = dark_text, family = "EnriquetaSB", size = rel(1.6), margin = margin(12, 0, 8, 0)),
plot.subtitle = element_text(size = rel(1.1), margin = margin(4, 0, 0, 0)),
axis.text.y = element_text(colour = light_text, size = rel(0.8)),
axis.title.y = element_text(size = 12, margin = margin(0, 4, 0, 0)),
axis.text.x = element_text(colour = mid_text, size = 12),
axis.title.x = element_blank(),
legend.position = "top",
legend.justification = 1,
panel.grid = element_line(colour = "#F3F4F5"),
plot.caption = element_text(size = rel(0.8), margin = margin(8, 0, 0, 0)),
plot.margin = margin(0.25, 0.25, 0.25, 0.25,"cm"))
}
library(tidyverse)
mtcars %>%
ggplot(aes(x = cyl, y = disp,
colour = as.character(am))) +
geom_point(aes(size = mpg),
shape = 15,
alpha = 0.8) +
scale_x_continuous(breaks = c(4, 6, 8)) +
labs(title = "I don't know enough about cars...",
subtitle = "But I know lots of people use this dataset!",
caption = "Data from mtcars",
colour = "am") +
theme_demo()
mtcars %>%
ggplot(aes(x = cyl, y = disp,
colour = as.character(am))) +
geom_point(aes(size = mpg),
shape = 15,
alpha = 0.8) +
scale_x_continuous(breaks = c(4, 6, 8)) +
labs(title = "I don't know enough about cars...",
subtitle = "But I know lots of people use this dataset!",
caption = "Data from mtcars",
colour = "am") +
theme_test()
install.packages('monochromeR')
library(monochromeR)
theme_test <- function(base_size = 12,
dark_text = "#1A242F") {
mid_text <-  monochromeR::generate_palette(dark_text, "go_lighter", n_colours = 5)[2]
light_text <-  monochromeR::generate_palette(dark_text, "go_lighter", n_colours = 5)[3]
theme_minimal(base_size = base_size) +
theme(text = element_text(colour = mid_text, family = "BrandonText", lineheight = 1.1),
plot.title = element_text(colour = dark_text, family = "EnriquetaSB", size = rel(1.6), margin = margin(12, 0, 8, 0)),
plot.subtitle = element_text(size = rel(1.1), margin = margin(4, 0, 0, 0)),
axis.text.y = element_text(colour = light_text, size = rel(0.8)),
axis.title.y = element_text(size = 12, margin = margin(0, 4, 0, 0)),
axis.text.x = element_text(colour = mid_text, size = 12),
axis.title.x = element_blank(),
legend.position = "top",
legend.justification = 1,
panel.grid = element_line(colour = "#F3F4F5"),
plot.caption = element_text(size = rel(0.8), margin = margin(8, 0, 0, 0)),
plot.margin = margin(0.25, 0.25, 0.25, 0.25,"cm"))
}
library(tidyverse)
mtcars %>%
ggplot(aes(x = cyl, y = disp,
colour = as.character(am))) +
geom_point(aes(size = mpg),
shape = 15,
alpha = 0.8) +
scale_x_continuous(breaks = c(4, 6, 8)) +
labs(title = "I don't know enough about cars...",
subtitle = "But I know lots of people use this dataset!",
caption = "Data from mtcars",
colour = "am") +
theme_test()
